(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,n,t){e.exports=t(39)},38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(13),c=t.n(o),u=t(2),i=function(e){var n=e.contactFilter,t=e.setFilter;return a.a.createElement("div",null,"filter shown with ",a.a.createElement("input",{value:n,onChange:function(e){t(e.target.value)}}))},l=t(14),s=t(3),m=t.n(s),f="/api/persons",d=function(){return m.a.get(f).then(function(e){return e.data})},b=function(e){return m.a.post(f,e).then(function(e){return e.data})},p=function(e){return m.a.delete("".concat(f,"/").concat(e.id)).then(function(){return e})},v=function(e){return m.a.put("".concat(f,"/").concat(e.id),e).then(function(e){return e.data})},w=function(e){var n=e.persons,t=e.setPersons,r=e.setNewName,o=e.setNewNumber,c=e.newName,u=e.newNumber,i=e.setNotificationMessage;return a.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),n.map(function(e){return e.name}).includes(c)){var a="".concat(c," is already added to the phonebook, \n                               replace old number with new one?");if(window.confirm(a)){var s=n.find(function(e){return e.name===c}),m=Object(l.a)({},s,{number:u});v(m).then(function(e){t(n.map(function(n){return n.id!==m.id?n:e})),r(""),o(""),i({msg:"Changed number for ".concat(m.name),error:!1}),setTimeout(function(){return i({msg:null,error:!1})},5e3)}).catch(function(e){i({msg:"".concat(m.name," is already deleted \n                                  from the server"),error:!0}),setTimeout(function(){return i({msg:null,error:!1})},5e3),t(n.filter(function(e){return e.id!==m.id}))})}}else b({name:c,number:u}).then(function(e){t(n.concat(e)),r(""),o(""),i({msg:"Added ".concat(e.name),error:!1}),setTimeout(function(){return i({msg:null,error:!1})},5e3)})}},a.a.createElement("div",null,"name: ",a.a.createElement("input",{value:c,onChange:function(e){r(e.target.value)}})),a.a.createElement("div",null,"number: ",a.a.createElement("input",{value:u,onChange:function(e){o(e.target.value)}})),a.a.createElement("div",null,a.a.createElement("button",{type:"submit"},"add")))},E=function(e){var n=e.person,t=e.persons,r=e.setPersons;return a.a.createElement("div",null,n.name," ",n.number,a.a.createElement("button",{onClick:function(){window.confirm("Delete ".concat(n.name," ?"))&&p(n).then(function(e){r(t.filter(function(n){return n.id!==e.id}))})}},"delete"))},h=function(e){var n=e.persons,t=e.contactFilter,r=e.setPersons,o=n.filter(function(e){return e.name.toLowerCase().includes(t.toLowerCase())}).map(function(e){return a.a.createElement(E,{key:e.id,person:e,persons:n,setPersons:r})});return a.a.createElement("div",null,o)},g=(t(38),function(e){var n=e.text,t={color:"green"};return n.error&&(t={color:"red"}),null===n.msg?null:a.a.createElement("div",{className:"notification",style:t},n.msg)}),N=function(){var e=Object(r.useState)([]),n=Object(u.a)(e,2),t=n[0],o=n[1],c=Object(r.useState)(""),l=Object(u.a)(c,2),s=l[0],m=l[1],f=Object(r.useState)(""),b=Object(u.a)(f,2),p=b[0],v=b[1],E=Object(r.useState)(""),N=Object(u.a)(E,2),j=N[0],O=N[1],C=Object(r.useState)({msg:null,error:!1}),P=Object(u.a)(C,2),k=P[0],y=P[1];return Object(r.useEffect)(function(){d().then(function(e){o(e)})},[]),a.a.createElement("div",null,a.a.createElement("h2",null,"Phonebook"),a.a.createElement(g,{text:k}),a.a.createElement(i,{contactFilter:s,setFilter:m}),a.a.createElement("h2",null,"add new"),a.a.createElement(w,{persons:t,setPersons:o,newName:p,setNewName:v,newNumber:j,setNewNumber:O,setNotificationMessage:y}),a.a.createElement("h2",null,"Numbers"),a.a.createElement(h,{persons:t,contactFilter:s,setPersons:o}))};c.a.render(a.a.createElement(N,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.4ad43056.chunk.js.map